.ds-button {
  --bg: transparent;
  --fg: #757575;
  --border: transparent;
  --hover-bg: var(--bg);
  --hover-fg: var(--fg);
  --hover-border: var(--border);
  --focus-ring: rgba(117, 117, 117, 0.28);
  --spinner: #616161;

  align-items: center;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  box-shadow: none;
  color: var(--fg);
  cursor: pointer;
  display: inline-flex;
  font-family: "PingFang TC", -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  font-size: 14px;
  font-weight: 400;
  gap: 8px;
  justify-content: center;
  line-height: 1.4;
  min-width: 44px;
  outline: none;
  position: relative;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;
  -webkit-font-smoothing: antialiased;
  transition: background-color 120ms ease, border-color 120ms ease, color 120ms ease, box-shadow 120ms ease;
}

.ds-button[data-size="extraLarge"] {
  padding: 12px;
}
.ds-button[data-size="large"] {
  padding: 10px 12px;
}
.ds-button[data-size="medium"] {
  padding: 8px 12px;
}
.ds-button[data-size="small"] {
  padding: 6px 12px;
  min-height: 32px;
}

.ds-button[data-variant="text"] {
  padding: 0;
  border-color: transparent;
  min-height: auto;
  min-width: auto;
}

/* ---------- Tokens (from Figma export) ---------- */

/* Filled */
.ds-button[data-variant="filled"][data-color="system"] {
  --bg: #757575;
  --fg: #ffffff;
  --hover-bg: #616161;
  --hover-fg: #ffffff;
  --focus-ring: rgba(117, 117, 117, 0.28);
  --spinner: #616161;
}
.ds-button[data-variant="filled"][data-color="primary"] {
  --bg: #ff9e1b;
  --fg: #ffffff;
  --hover-bg: #d27811;
  --hover-fg: #ffffff;
  --focus-ring: rgba(255, 158, 27, 0.28);
  --spinner: #ff9e1b;
}

/* Outlined */
.ds-button[data-variant="outlined"][data-color="system"] {
  --bg: transparent;
  --fg: #757575;
  --border: #757575;
  --hover-bg: #f5f5f5;
  --hover-fg: #757575;
  --hover-border: #757575;
  --focus-ring: rgba(117, 117, 117, 0.22);
  --spinner: #616161;
}
.ds-button[data-variant="outlined"][data-color="primary"] {
  --bg: transparent;
  --fg: #ff9e1b;
  --border: #ff9e1b;
  --hover-bg: #fdf5e6;
  --hover-fg: #ff9e1b;
  --hover-border: #ff9e1b;
  --focus-ring: rgba(255, 158, 27, 0.22);
  --spinner: #ff9e1b;
}

/* Ghost */
.ds-button[data-variant="ghost"][data-color="system"] {
  --bg: transparent;
  --fg: #757575;
  --hover-fg: #616161;
  --focus-ring: rgba(117, 117, 117, 0.22);
  --spinner: #616161;
}
.ds-button[data-variant="ghost"][data-color="primary"] {
  --bg: transparent;
  --fg: #ff9e1b;
  --hover-fg: #d27811;
  --focus-ring: rgba(255, 158, 27, 0.22);
  --spinner: #ff9e1b;
}

/* Text */
.ds-button[data-variant="text"][data-color="system"] {
  --bg: transparent;
  --fg: #757575;
  --hover-fg: #616161;
  --focus-ring: rgba(117, 117, 117, 0.22);
  --spinner: #616161;
}
.ds-button[data-variant="text"][data-color="primary"] {
  --bg: transparent;
  --fg: #ff9e1b;
  --hover-fg: #d27811;
  --focus-ring: rgba(255, 158, 27, 0.22);
  --spinner: #ff9e1b;
}

/* ---------- Interaction ---------- */

.ds-button:not(:disabled):hover,
.ds-button[data-forced-state="hovered"] {
  background: var(--hover-bg);
  border-color: var(--hover-border);
  color: var(--hover-fg);
}

.ds-button:active:not(:disabled) {
  filter: brightness(0.98);
}

.ds-button:focus-visible,
.ds-button[data-forced-state="focused"] {
  box-shadow: 0 0 0 3px var(--focus-ring);
}

/* ---------- Disabled / Loading ---------- */

.ds-button:disabled {
  cursor: not-allowed;
}

.ds-button:disabled[data-variant="filled"] {
  --bg: #e1e1e1;
  --fg: #9e9e9e;
  --border: #e1e1e1;
  --hover-bg: #e1e1e1;
  --hover-fg: #9e9e9e;
  --hover-border: #e1e1e1;
}
.ds-button:disabled[data-variant="outlined"] {
  --fg: #e1e1e1;
  --border: #e1e1e1;
  --hover-bg: transparent;
  --hover-fg: #e1e1e1;
  --hover-border: #e1e1e1;
}
.ds-button:disabled[data-variant="ghost"],
.ds-button:disabled[data-variant="text"] {
  --fg: #e1e1e1;
  --hover-fg: #e1e1e1;
}

.ds-button[data-loading="true"] {
  pointer-events: none;
}

.ds-button__spinner {
  width: 16px;
  height: 16px;
  border-radius: 999px;
  border: 2px solid rgba(0, 0, 0, 0.12);
  border-top-color: var(--spinner);
  animation: ds-button-spin 0.8s linear infinite;
}

@keyframes ds-button-spin {
  to {
    transform: rotate(360deg);
  }
}
